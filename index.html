<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Coliber ğŸŒŸ</title>
<style>
body {
  margin:0; font-family:'Vazirmatn',sans-serif;
  background: linear-gradient(135deg,#101020,#1c1c36); color:#fff;
  display:flex; flex-direction:column; align-items:center; justify-content:center; height:100vh;
}
#chat { width:90%; max-width:700px; height:70vh; background: rgba(0,0,0,0.35);
overflow:auto; padding:20px; border-radius:16px; margin-bottom:12px; box-shadow:0 10px 25px rgba(0,0,0,0.7);}
.msg { margin:10px 0; padding:14px 18px; border-radius:16px; max-width:80%;
line-height:1.6; word-break:break-word; opacity:0; transform:translateY(12px); transition: all .3s ease; }
.msg.show { opacity:1; transform:translateY(0); }
.user { margin-left:auto; background: linear-gradient(90deg,#022b3a,#03506f); color:#e0ffff; }
.bot { margin-right:auto; background: linear-gradient(90deg,#2b1b3f,#6835a0); color:#fff; }
#inputArea { width:90%; max-width:700px; display:flex; gap:10px; }
input[type="text"] { flex:1; padding:14px; border-radius:12px; border:none; background: rgba(0,0,0,0.4); color:#fff; font-size:16px; }
button { padding:14px 20px; border-radius:12px; border:none; background:#4caf50; color:#fff; font-weight:700; cursor:pointer; }
.typing { display:flex; gap:8px; align-items:center; padding:10px 14px; border-radius:14px; background: rgba(255,255,255,0.05); width:110px; }
.dot { width:10px; height:10px; background:#fff; border-radius:50%; opacity:0.35; animation: blink 1s infinite; }
.dot:nth-child(2){ animation-delay: .15s }
.dot:nth-child(3){ animation-delay: .3s }
@keyframes blink { 0%{opacity:.15}50%{opacity:1}100%{opacity:.15} }
</style>
</head>
<body>

<div id="chat"></div>
<div id="inputArea">
<input type="text" id="inp" placeholder="Ù¾ÛŒØ§Ù…ØªÙˆ Ø¨Ù†ÙˆÛŒØ³ Ùˆ Enter Ø¨Ø²Ù†">
<button id="send">Ø§Ø±Ø³Ø§Ù„</button>
</div>

<script>
const chat = document.getElementById('chat');
const inp = document.getElementById('inp');

// Ø¯ÛŒØªØ§Ø¨ÛŒØ³ ÙØ´Ø±Ø¯Ù‡ Ùˆ Ø³Ø§Ø¯Ù‡ Coliber
const database = {
  "Ø³Ù„Ø§Ù…": "Ø³Ù„Ø§Ù…! ğŸ˜Š Ù…Ù† Coliber Ù‡Ø³ØªÙ…. Ø­Ø§Ù„Øª Ú†Ø·ÙˆØ±Ù‡ØŸ",
  "Ú†Ø·ÙˆØ±ÛŒ": "Ù…Ø±Ø³ÛŒ! Ù…Ù† Ø¹Ø§Ù„ÛŒ Ù‡Ø³ØªÙ… ğŸ˜Š ØªÙˆ Ú†Ø·ÙˆØ±ÛŒØŸ",
  "Ù¾Ø§ÛŒØªØ®Øª Ø§ÛŒØ±Ø§Ù†": "ØªÙ‡Ø±Ø§Ù†",
  "Ù¾Ø§ÛŒØªØ®Øª ÙØ±Ø§Ù†Ø³Ù‡": "Ù¾Ø§Ø±ÛŒØ³",
  "Ù¾Ø§ÛŒØªØ®Øª Ú˜Ø§Ù¾Ù†": "ØªÙˆÚ©ÛŒÙˆ",
  "Ú©ÙˆÚ†Ú©ØªØ±ÛŒÙ† Ø³ÛŒØ§Ø±Ù‡ Ù…Ù†Ø¸ÙˆÙ…Ù‡ Ø´Ù…Ø³ÛŒ": "Ù…Ø±Ú©ÙˆØ±ÛŒ",
  "Ø§Ù†ÛŒÙ…Ù‡ Ù†Ø§Ø±ÙˆØªÙˆ": "ÛŒÚ© Ø§Ù†ÛŒÙ…Ù‡ Ú˜Ø§Ù¾Ù†ÛŒ Ù…Ø¹Ø±ÙˆÙ Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù†ÛŒÙ†Ø¬Ø§Ù‡Ø§Ø³Øª",
  "Ø§Ù†ÛŒÙ…Ù‡ ÙˆØ§Ù† Ù¾ÛŒØ³": "ÛŒÚ© Ø§Ù†ÛŒÙ…Ù‡ Ú˜Ø§Ù¾Ù†ÛŒ Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø¯Ø²Ø¯ Ø¯Ø±ÛŒØ§ÛŒÛŒ Ù„ÙˆÙÛŒ"
  // Ù…ÛŒØªÙˆÙ†ÛŒ Ø¨Ù‚ÛŒÙ‡ Ø±Ùˆ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒ
};

// Text-to-Speech ÙØ§Ø±Ø³ÛŒ
function speak(text){
  if(!('speechSynthesis' in window)) return;
  const utter = new SpeechSynthesisUtterance(text);
  utter.lang = 'fa-IR';
  utter.rate = 1;
  utter.pitch = 1;
  window.speechSynthesis.speak(utter);
}

// Ø§ÙØ²ÙˆØ¯Ù† Ù¾ÛŒØ§Ù… Ø¨Ù‡ Ú†Øª
function addMsg(txt,cls,typing=false){
  const d=document.createElement('div');
  d.className='msg '+cls;
  chat.appendChild(d);
  chat.scrollTop=chat.scrollHeight;
  if(!typing){ d.innerText=txt; d.classList.add('show'); return; }
  let i=0;
  const showNext=()=>{i++; d.innerText=txt.slice(0,i); if(!d.classList.contains('show')) d.classList.add('show'); chat.scrollTop=chat.scrollHeight; if(i<txt.length)setTimeout(showNext,10);}
  showNext();
}

// ØªØ§ÛŒÙ¾ÛŒÙ†Ú¯
function showTypingIndicator(){
  const t=document.createElement('div');
  t.className='msg bot typing';
  t.innerHTML='<div class="dot"></div><div class="dot"></div><div class="dot"></div>';
  chat.appendChild(t); chat.scrollTop=chat.scrollHeight;
  return t;
}

// Ù¾Ø§Ø³Ø®â€ŒØ¯Ù‡ÛŒ
function getAnswer(msg){
  msg = msg.toLowerCase().trim();
  for(let key in database){
    if(msg.includes(key.toLowerCase())){
      return database[key];
    }
  }
  return "âš ï¸ Ù…ØªØ£Ø³ÙÙ…ØŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§ÙÛŒ Ù†Ø¯Ø§Ø±Ù…!";
}

// Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…
function sendMsg(){
  const val = inp.value.trim(); if(!val) return;
  addMsg(val,'user'); inp.value='';
  const typingNode = showTypingIndicator();
  setTimeout(()=>{
    if(typingNode && typingNode.parentNode) typingNode.remove();
    const answer = getAnswer(val);
    addMsg(answer,'bot',true);
    speak(answer);
  },300);
}

document.getElementById('send').onclick=sendMsg;
inp.addEventListener('keydown',e=>{ if(e.key==='Enter') sendMsg(); });

// Ù¾ÛŒØ§Ù… Ø®ÙˆØ´â€ŒØ¢Ù…Ø¯
addMsg("Ø³Ù„Ø§Ù…! Ù…Ù† Coliber Ù‡Ø³ØªÙ… ğŸŒŸ Ø¢Ù…Ø§Ø¯Ù‡ Ù¾Ø§Ø³Ø®Ú¯ÙˆÛŒÛŒ Ùˆ ÙˆÛŒØ³ ÙØ§Ø±Ø³ÛŒ!","bot");
</script>

</body>
</html>
